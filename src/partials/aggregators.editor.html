<div class="gf-form-inline">
    <div class="gf-form">
        <div class="gf-form">
            <label class="gf-form-label query-keyword width-8">
                Aggregators
            </label>
        </div>
    </div>
    <div class="gf-form">
        <select ng-model="ctrl.newAggregator.type">
            <option ng-repeat="(aggregatorType, aggregatorParameters) in ctrl.aggregators"
                    value="{{aggregatorType}}">{{aggregatorType}}
            </option>
        </select>
    </div>
    <div ng-repeat="parameter in ctrl.aggregators[ctrl.newAggregator.type].parameters">
        <div class="gf-form">
            <label class="gf-form-label">
                {{parameter.name}}
            </label>
        </div>
        <div class="gf-form">
            <input ng-if="!parameter.allowedValues"
                   type="text" class="gf-form-input width-5"
                   ng-model="ctrl.newAggregator.parameters[parameter]"/>
            <select ng-if="parameter.allowedValues"
                    ng-model="ctrl.newAggregator.parameters[parameter]">
                <option ng-repeat="value in parameter.allowedValues">{{value}}</option>
            </select>
        </div>
    </div>
</div>
