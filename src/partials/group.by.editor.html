<div class="gf-form-group">
    <div class="gf-form-inline">
        <div class="gf-form">
            <label class="gf-form-label query-keyword width-8">
                Group by
            </label>
        </div>
        <div class="gf-form">
            <label class="gf-form-label width-5">
                Tag
            </label>
        </div>
        <div class="gf-form" ng-repeat="tagName in ctrl.allowedGroupByTags">
            <label class="gf-form-label">
                <a ng-click="ctrl.toggleGroupByTag(tagName)"
                   ng-class="ctrl.isActiveGroupByTag(tagName) ? 'activeTag' : 'inactiveTag'">{{tagName}}</a>
            </label>
        </div>

        <div ng-if="ctrl.target.customGroupByTags.length" class="gf-form">
            <label class="gf-form-label">
                custom:
            </label>
            <label class="gf-form-label" ng-repeat="value in ctrl.target.customGroupByTags">
                {{value}}
            </label>
        </div>
        <!--todo: removing-->

        <!--todo: to seperate directive-->
        <div ng-if="ctrl.groupByTagValueInputVisible">
            <input type="text" ng-model="ctrl.newCustomGroupByValue"
                   class="gf-form-input width-10" placeholder="Custom value"/>
        </div>

        <div class="gf-form">
            <label class="gf-form-label">
                <a ng-click="ctrl.addCustomGroupByValue()">
                    <i class="fa fa-plus"></i>
                </a>
            </label>
        </div>

        <div class="gf-form" ng-show="ctrl.allowedGroupByTags.length == 0">
            <label class="gf-form-label">
                No tags to group by
            </label>
        </div>
        <div class="gf-form gf-form--grow">
            <div class="gf-form-label gf-form-label--grow"></div>
        </div>
    </div>
    <div class="gf-form-inline">
        <div class="gf-form">
            <label class="gf-form-label offset-width-8 width-5">
                Value
            </label>
        </div>
        <div class="gf-form">
            <!--todo: single plus for both here and in tags-->
            <input ng-show="ctrl.groupByValueInputVisible" ng-model="ctrl.groupByValueRanges" class="gf-form-input"
                   bs-tooltip="'List of groups sizes (comma-seperated)'" placeholder="value"/>
            <label ng-if="!ctrl.groupByValueRanges || ctrl.groupByValueInputVisible" class="gf-form-label">
                <a ng-click="ctrl.toggleGroupByValueInput()">
                    <i class="fa fa-plus"></i>
                </a>
            </label>

            <label ng-if="ctrl.groupByValueRanges && !ctrl.groupByValueInputVisible" class="gf-form-label">
                {{ctrl.groupByValueRanges}}
                <a ng-click="ctrl.groupByValueRanges = null">
                    <i class="fa fa-times"></i>
                </a>
                <!--todo: validation-->
            </label>
        </div>
        <div class="gf-form gf-form--grow">
            <div class="gf-form-label gf-form-label--grow"></div>
        </div>
    </div>
    <div class="gf-form-inline">
        <div class="gf-form">
            <label class="gf-form-label offset-width-8 width-5">
                Time
            </label>
        </div>
        <div class="gf-form gf-form--grow">
            <div class="gf-form-label gf-form-label--grow"></div>
        </div>
    </div>
</div>
